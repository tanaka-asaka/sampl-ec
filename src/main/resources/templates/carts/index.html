<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="main">
  <div class="container contents">
    <h1>[[ ${title} ]]</h1>
    <p>ようこそ、[[ ${user.name} ]]さん。</p>

    <div class="row">
      <div class="col-9">
        <div class="card item" th:each="cart : ${user.carts}">
          <div class="row item_row">
            <div class="col-6 item_figure">
              <img class="img-fluid" th:src="@{/images/{image} (image=${cart.item.image})}">
            </div>
            <div class="col-6 item_description">
              <dl>
                <dt>商品名</dt>
                <dd>[[ ${cart.item.name} ]]</dd>
                <dt>価格</dt>
                <dd>[[ ${cart.item.price} ]]円</dd>
                <dt>説明</dt>
                <dd>[[ ${cart.item.description} ]]</dd>
                <dt>購入数</dt>
                <dd>[[ ${cart.amount} ]]</dd>
                <dt>合計金額</dt>
                <dd>[[ ${cart.amount * cart.item.price} ]]円</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
      <div class="col-3">
        <h2>購入情報</h2>
        <p>合計金額: [[ ${totalAmount} ]]円</p>
        <form method="post" th:action="@{/carts/purchase}">
          <button type="submit">購入する</button>
        </form>
      </div>
    </div>
  </div>
  <!--/* トップに戻る戻るボタン */-->
  <p class="pagetop"><a href="#page-top"><i class="bi bi-chevron-double-up"></i></a></p>
  <footer class="text-center">
    <p><small>&copy;CodeCamp All Rights Reserved.</small></p>
  </footer>
</div>

</html>